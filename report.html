<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" /><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" /><title>Cosmic Ray Report</title></head><body><div class="container"><h1><p class="text-dark">Cosmic Ray Report</p></h1></div><div class="container"><div class="mb-1" id="summary_info___accordion"><div class="card"><a data-toggle="collapse" data-target="#summary_info___collapse_1" aria-expanded="true" aria-controls="summary_info___collapse_1" href="#"><div class="card-header" id="summary_info___heading_1"><button class="btn btn-outline-dark"><h4 class="m-0">Summary info</h4></button></div></a><div aria-labelledby="summary_info___heading_1" data-parent="#summary_info___accordion" class="collapse show" id="summary_info___collapse_1"><div class="card-body"><p>Date time: 17/11/2022 11:23:12</p><p>Total jobs: 36</p><p>Complete: 36 (100.00%)</p><p>Surviving mutants: 1 (2.78%)</p></div></div></div></div><div class="mb-1" id="job_list___accordion"><div class="card"><a data-toggle="collapse" data-target="#job_list___collapse_1" aria-expanded="false" aria-controls="job_list___collapse_1" href="#"><div class="card-header" id="job_list___heading_1"><button class="btn btn-outline-dark"><h4 class="m-0">Job list</h4></button></div></a><div aria-labelledby="job_list___heading_1" data-parent="#job_list___accordion" class="collapse" id="job_list___collapse_1"><div class="card-body"><div class="text-right mb-1"><div class="mx-1" id="job_item_expand_all"><a href="#" onclick="$('div.job_list___sub_multi_collapse').collapse('show');"><button class="btn btn-outline-dark"><span>Expand All</span></button></a></div><div class="mx-1" id="job_item_collapse_all"><a href="#" onclick="$('div.job_list___sub_multi_collapse').collapse('hide');"><button class="btn btn-outline-dark"><span>Collapse All</span></button></a></div></div><div class="mb-1" id="job_list___sub_accordion_1"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_1_1" aria-expanded="false" aria-controls="job_list___sub_collapse_1_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_1_1"><button class="btn btn-outline-success"><span class="job_id">1 : Job ID e08c1a500f154155830b8684f8cd2746</span></button></div></a><div aria-labelledby="job_list___sub_heading_1_1" data-parent="#job_list___sub_accordion_1" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_1_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=26" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (26, 11), end pos: (26, 33)</button></a></pre><pre>operator: core/AddNot, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -23,7 +23,7 @@
         Raises:
             TypeError: A TypeError is raised if value is not an integer.
         """
-        if isinstance(value, int):
+        if not isinstance(value, int):
             self._value += value
         else:
             raise TypeError("Value must be of type integer")</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py F..F.                                        [100%]

=================================== FAILURES ===================================
_______________________ TestCounters.test_add_value_int ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_add_value_int&gt;

    def test_add_value_int(self) -&gt; None:
&gt;       self.counter_object.add(5)

tests/test_counter_class.py:11: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Counter(_value=0), value = 5

    def add(self, value: int) -&gt; None:
        """
        Increment the current value with the specified number.
    
        Args:
            value (int): The number to add to the current value.
    
        Raises:
            TypeError: A TypeError is raised if value is not an integer.
        """
        if not isinstance(value, int):
            self._value += value
        else:
&gt;           raise TypeError("Value must be of type integer")
E           TypeError: Value must be of type integer

src/counter_class.py:29: TypeError
________________________ TestCounters.test_remove_value ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_remove_value&gt;

    def test_remove_value(self) -&gt; None:
&gt;       self.counter_object.add(5)

tests/test_counter_class.py:19: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Counter(_value=0), value = 5

    def add(self, value: int) -&gt; None:
        """
        Increment the current value with the specified number.
    
        Args:
            value (int): The number to add to the current value.
    
        Raises:
            TypeError: A TypeError is raised if value is not an integer.
        """
        if not isinstance(value, int):
            self._value += value
        else:
&gt;           raise TypeError("Value must be of type integer")
E           TypeError: Value must be of type integer

src/counter_class.py:29: TypeError
=========================== short test summary info ============================
FAILED tests/test_counter_class.py::TestCounters::test_add_value_int - TypeEr...
FAILED tests/test_counter_class.py::TestCounters::test_remove_value - TypeErr...
========================= 2 failed, 11 passed in 0.82s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_2"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_2_1" aria-expanded="false" aria-controls="job_list___sub_collapse_2_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_2_1"><button class="btn btn-outline-success"><span class="job_id">2 : Job ID e24e00fe6f4a44baabd0468c3441ec48</span></button></div></a><div aria-labelledby="job_list___sub_heading_2_1" data-parent="#job_list___sub_accordion_2" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_2_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=41" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (41, 11), end pos: (41, 33)</button></a></pre><pre>operator: core/AddNot, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -38,7 +38,7 @@
         Raises:
             TypeError: A TypeError is raised if value is not an integer.
         """
-        if isinstance(value, int):
+        if not isinstance(value, int):
             self._value -= value
         else:
             raise TypeError("Value must be of type integer")</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py ...F.                                        [100%]

=================================== FAILURES ===================================
________________________ TestCounters.test_remove_value ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_remove_value&gt;

    def test_remove_value(self) -&gt; None:
        self.counter_object.add(5)
&gt;       self.counter_object.remove(3)

tests/test_counter_class.py:20: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = Counter(_value=5), value = 3

    def remove(self, value) -&gt; None:
        """
        Decrease the current value by the specified number.
    
        Args:
            value (int): The number to extract from the current value.
    
        Raises:
            TypeError: A TypeError is raised if value is not an integer.
        """
        if not isinstance(value, int):
            self._value -= value
        else:
&gt;           raise TypeError("Value must be of type integer")
E           TypeError: Value must be of type integer

src/counter_class.py:44: TypeError
=========================== short test summary info ============================
FAILED tests/test_counter_class.py::TestCounters::test_remove_value - TypeErr...
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_3"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_3_1" aria-expanded="false" aria-controls="job_list___sub_collapse_3_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_3_1"><button class="btn btn-outline-success"><span class="job_id">3 : Job ID 3593fda995ba43f197bc3cac15c3beea</span></button></div></a><div aria-labelledby="job_list___sub_heading_3_1" data-parent="#job_list___sub_accordion_3" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_3_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=13" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (13, 19), end pos: (13, 20)</button></a></pre><pre>operator: core/NumberReplacer, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -10,7 +10,7 @@
     Fields:
         _value (int): Representing and holding the value of the Counter.
     """
-    _value : int = 0
+    _value : int = 1
 
 
     def add(self, value: int) -&gt; None:</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py F..F.                                        [100%]

=================================== FAILURES ===================================
_______________________ TestCounters.test_add_value_int ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_add_value_int&gt;

    def test_add_value_int(self) -&gt; None:
        self.counter_object.add(5)
&gt;       self.assertEqual(self.counter_object._value, 5)
E       AssertionError: 6 != 5

tests/test_counter_class.py:12: AssertionError
________________________ TestCounters.test_remove_value ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_remove_value&gt;

    def test_remove_value(self) -&gt; None:
        self.counter_object.add(5)
        self.counter_object.remove(3)
&gt;       self.assertEqual(self.counter_object._value, 2)
E       AssertionError: 3 != 2

tests/test_counter_class.py:21: AssertionError
=========================== short test summary info ============================
FAILED tests/test_counter_class.py::TestCounters::test_add_value_int - Assert...
FAILED tests/test_counter_class.py::TestCounters::test_remove_value - Asserti...
========================= 2 failed, 11 passed in 0.69s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_4"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_4_1" aria-expanded="false" aria-controls="job_list___sub_collapse_4_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_4_1"><button class="btn btn-outline-success"><span class="job_id">4 : Job ID b98f24c14963489eb34a50b1831260d1</span></button></div></a><div aria-labelledby="job_list___sub_heading_4_1" data-parent="#job_list___sub_accordion_4" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_4_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=13" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (13, 19), end pos: (13, 20)</button></a></pre><pre>operator: core/NumberReplacer, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -10,7 +10,7 @@
     Fields:
         _value (int): Representing and holding the value of the Counter.
     """
-    _value : int = 0
+    _value : int = -1
 
 
     def add(self, value: int) -&gt; None:</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py F..F.                                        [100%]

=================================== FAILURES ===================================
_______________________ TestCounters.test_add_value_int ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_add_value_int&gt;

    def test_add_value_int(self) -&gt; None:
        self.counter_object.add(5)
&gt;       self.assertEqual(self.counter_object._value, 5)
E       AssertionError: 4 != 5

tests/test_counter_class.py:12: AssertionError
________________________ TestCounters.test_remove_value ________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_remove_value&gt;

    def test_remove_value(self) -&gt; None:
        self.counter_object.add(5)
        self.counter_object.remove(3)
&gt;       self.assertEqual(self.counter_object._value, 2)
E       AssertionError: 1 != 2

tests/test_counter_class.py:21: AssertionError
=========================== short test summary info ============================
FAILED tests/test_counter_class.py::TestCounters::test_add_value_int - Assert...
FAILED tests/test_counter_class.py::TestCounters::test_remove_value - Asserti...
========================= 2 failed, 11 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_5"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_5_1" aria-expanded="false" aria-controls="job_list___sub_collapse_5_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_5_1"><button class="btn btn-outline-success"><span class="job_id">5 : Job ID 3556b17446804cafb761ef72a13c7471</span></button></div></a><div aria-labelledby="job_list___sub_heading_5_1" data-parent="#job_list___sub_accordion_5" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_5_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=50" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (50, 22), end pos: (50, 23)</button></a></pre><pre>operator: core/NumberReplacer, occurrence: 2</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -47,5 +47,5 @@
         """
         Restores the Counter objects value to zero.
         """
-        self._value = 0
+        self._value = 1
 </pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py ..F..                                        [100%]

=================================== FAILURES ===================================
________________________ TestCounters.test_clear_value _________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_clear_value&gt;

    def test_clear_value(self) -&gt; None:
        self.counter_object.clear()
&gt;       self.assertEqual(self.counter_object._value, 0)
E       AssertionError: 1 != 0

tests/test_counter_class.py:29: AssertionError
=========================== short test summary info ============================
FAILED tests/test_counter_class.py::TestCounters::test_clear_value - Assertio...
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_6"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_6_1" aria-expanded="false" aria-controls="job_list___sub_collapse_6_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_6_1"><button class="btn btn-outline-success"><span class="job_id">6 : Job ID 4733b8b4eff54c54be2f4d3fba47c68b</span></button></div></a><div aria-labelledby="job_list___sub_heading_6_1" data-parent="#job_list___sub_accordion_6" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_6_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=50" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (50, 22), end pos: (50, 23)</button></a></pre><pre>operator: core/NumberReplacer, occurrence: 3</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -47,5 +47,5 @@
         """
         Restores the Counter objects value to zero.
         """
-        self._value = 0
+        self._value = -1
 </pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py ..F..                                        [100%]

=================================== FAILURES ===================================
________________________ TestCounters.test_clear_value _________________________

self = &lt;tests.test_counter_class.TestCounters testMethod=test_clear_value&gt;

    def test_clear_value(self) -&gt; None:
        self.counter_object.clear()
&gt;       self.assertEqual(self.counter_object._value, 0)
E       AssertionError: -1 != 0

tests/test_counter_class.py:29: AssertionError
=========================== short test summary info ============================
FAILED tests/test_counter_class.py::TestCounters::test_clear_value - Assertio...
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_7"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_7_1" aria-expanded="false" aria-controls="job_list___sub_collapse_7_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-danger" id="job_list___sub_heading_7_1"><button class="btn btn-outline-danger"><span class="job_id">7 : Job ID 41de0702322048abb5642cc2148e93d3</span></button></div></a><div aria-labelledby="job_list___sub_heading_7_1" data-parent="#job_list___sub_accordion_7" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_7_1"><div class="card-body"><div class="work-item"><div class="alert alert-danger test-outcome" role="alert"><p>SURVIVED</p><p>worker outcome: normal</p><p>test outcome: survived</p></div></div><pre class="location"><a href="pycharm://open?file=src/counter_class.py&amp;line=5" class="text-secondary"><button class="btn btn-outline-dark">src/counter_class.py, start pos: (5, 0), end pos: (6, 0)</button></a></pre><pre>operator: core/RemoveDecorator, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/counter_class.py
+++ bsrc/counter_class.py
@@ -1,8 +1,5 @@
 """Represent a dummy class to test with"""
 from dataclasses import dataclass
-
-
-@dataclass
 class Counter:
     """
     Counter dataclass.</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ........                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

============================== 13 passed in 0.67s ==============================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_8"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_8_1" aria-expanded="false" aria-controls="job_list___sub_collapse_8_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_8_1"><button class="btn btn-outline-success"><span class="job_id">8 : Job ID 0b1e1f4221c8461798ced713f6a252c9</span></button></div></a><div aria-labelledby="job_list___sub_heading_8_1" data-parent="#job_list___sub_accordion_8" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_8_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Sub, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    - self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10cbbf550&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10cbbf550&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    - self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for -: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_9"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_9_1" aria-expanded="false" aria-controls="job_list___sub_collapse_9_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_9_1"><button class="btn btn-outline-success"><span class="job_id">9 : Job ID 269b1e7522164c32abc4aeaee8b94852</span></button></div></a><div aria-labelledby="job_list___sub_heading_9_1" data-parent="#job_list___sub_accordion_9" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_9_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Sub, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    - " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x110a3b730&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x110a3b730&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    + self.secret_name
                    - " was not found"
                )
E               TypeError: unsupported operand type(s) for -: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.76s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_10"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_10_1" aria-expanded="false" aria-controls="job_list___sub_collapse_10_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_10_1"><button class="btn btn-outline-success"><span class="job_id">10 : Job ID b69c32de852546c89b256e2105ed45f1</span></button></div></a><div aria-labelledby="job_list___sub_heading_10_1" data-parent="#job_list___sub_accordion_10" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_10_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Mul, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    * self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x110583400&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x110583400&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    * self.secret_name
                    + " was not found"
                )
E               TypeError: can't multiply sequence by non-int of type 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_11"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_11_1" aria-expanded="false" aria-controls="job_list___sub_collapse_11_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_11_1"><button class="btn btn-outline-success"><span class="job_id">11 : Job ID 90b8411a619a442996e7fb5766cd4c7a</span></button></div></a><div aria-labelledby="job_list___sub_heading_11_1" data-parent="#job_list___sub_accordion_11" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_11_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Mul, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    * " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10fe17340&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10fe17340&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
&gt;                   + self.secret_name
                    * " was not found"
                )
E               TypeError: can't multiply sequence by non-int of type 'str'

src/aws_secrets.py:54: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_12"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_12_1" aria-expanded="false" aria-controls="job_list___sub_collapse_12_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_12_1"><button class="btn btn-outline-success"><span class="job_id">12 : Job ID 5f26d52ad89143e383e063cc30c01b7b</span></button></div></a><div aria-labelledby="job_list___sub_heading_12_1" data-parent="#job_list___sub_accordion_12" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_12_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Div, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    / self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c2cb490&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c2cb490&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    / self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for /: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_13"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_13_1" aria-expanded="false" aria-controls="job_list___sub_collapse_13_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_13_1"><button class="btn btn-outline-success"><span class="job_id">13 : Job ID 1bc3c83935e4454bb24e1c1c5abeb494</span></button></div></a><div aria-labelledby="job_list___sub_heading_13_1" data-parent="#job_list___sub_accordion_13" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_13_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Div, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    / " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e14f700&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e14f700&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
&gt;                   + self.secret_name
                    / " was not found"
                )
E               TypeError: unsupported operand type(s) for /: 'str' and 'str'

src/aws_secrets.py:54: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_14"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_14_1" aria-expanded="false" aria-controls="job_list___sub_collapse_14_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_14_1"><button class="btn btn-outline-success"><span class="job_id">14 : Job ID c2a1eadadece4c93830690d82462124f</span></button></div></a><div aria-labelledby="job_list___sub_heading_14_1" data-parent="#job_list___sub_accordion_14" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_14_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_FloorDiv, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    // self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x1101cf490&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x1101cf490&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    // self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for //: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_15"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_15_1" aria-expanded="false" aria-controls="job_list___sub_collapse_15_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_15_1"><button class="btn btn-outline-success"><span class="job_id">15 : Job ID 6a32546326354c9c8a066de593c83389</span></button></div></a><div aria-labelledby="job_list___sub_heading_15_1" data-parent="#job_list___sub_accordion_15" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_15_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_FloorDiv, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    // " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x110117700&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x110117700&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
&gt;                   + self.secret_name
                    // " was not found"
                )
E               TypeError: unsupported operand type(s) for //: 'str' and 'str'

src/aws_secrets.py:54: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_16"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_16_1" aria-expanded="false" aria-controls="job_list___sub_collapse_16_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_16_1"><button class="btn btn-outline-success"><span class="job_id">16 : Job ID a95fb3d293ab4dfba6dff485f78469f3</span></button></div></a><div aria-labelledby="job_list___sub_heading_16_1" data-parent="#job_list___sub_accordion_16" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_16_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Mod, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    % self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10fe9f400&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10fe9f400&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    % self.secret_name
                    + " was not found"
                )
E               TypeError: not all arguments converted during string formatting

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_17"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_17_1" aria-expanded="false" aria-controls="job_list___sub_collapse_17_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_17_1"><button class="btn btn-outline-success"><span class="job_id">17 : Job ID 7fdac0b9d31d480691f163876ba6e9cd</span></button></div></a><div aria-labelledby="job_list___sub_heading_17_1" data-parent="#job_list___sub_accordion_17" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_17_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Mod, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    % " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x1107c7550&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x1107c7550&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
&gt;                   + self.secret_name
                    % " was not found"
                )
E               TypeError: not all arguments converted during string formatting

src/aws_secrets.py:54: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_18"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_18_1" aria-expanded="false" aria-controls="job_list___sub_collapse_18_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_18_1"><button class="btn btn-outline-success"><span class="job_id">18 : Job ID 3c14bc60385b4a888ce13268cfc20ac6</span></button></div></a><div aria-labelledby="job_list___sub_heading_18_1" data-parent="#job_list___sub_accordion_18" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_18_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Pow, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    ** self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c527550&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c527550&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    ** self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for ** or pow(): 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_19"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_19_1" aria-expanded="false" aria-controls="job_list___sub_collapse_19_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_19_1"><button class="btn btn-outline-success"><span class="job_id">19 : Job ID d866ee52343b4925b69e54e5f10fd2c8</span></button></div></a><div aria-labelledby="job_list___sub_heading_19_1" data-parent="#job_list___sub_accordion_19" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_19_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_Pow, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    ** " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e4db490&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e4db490&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
&gt;                   + self.secret_name
                    ** " was not found"
                )
E               TypeError: unsupported operand type(s) for ** or pow(): 'str' and 'str'

src/aws_secrets.py:54: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_20"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_20_1" aria-expanded="false" aria-controls="job_list___sub_collapse_20_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_20_1"><button class="btn btn-outline-success"><span class="job_id">20 : Job ID e39dd3ece2d14afbb2f4f4526e41a1ba</span></button></div></a><div aria-labelledby="job_list___sub_heading_20_1" data-parent="#job_list___sub_accordion_20" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_20_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_RShift, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    &gt;&gt; self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x1103e7550&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x1103e7550&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    &gt;&gt; self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for &gt;&gt;: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_21"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_21_1" aria-expanded="false" aria-controls="job_list___sub_collapse_21_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_21_1"><button class="btn btn-outline-success"><span class="job_id">21 : Job ID fa073990367c4e2b8788beef0f8bb620</span></button></div></a><div aria-labelledby="job_list___sub_heading_21_1" data-parent="#job_list___sub_accordion_21" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_21_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_RShift, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    &gt;&gt; " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c52f700&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c52f700&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    + self.secret_name
                    &gt;&gt; " was not found"
                )
E               TypeError: unsupported operand type(s) for &gt;&gt;: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_22"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_22_1" aria-expanded="false" aria-controls="job_list___sub_collapse_22_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_22_1"><button class="btn btn-outline-success"><span class="job_id">22 : Job ID 4e079b02fc0f41279fb4b4505f15e6c3</span></button></div></a><div aria-labelledby="job_list___sub_heading_22_1" data-parent="#job_list___sub_accordion_22" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_22_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_LShift, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    &lt;&lt; self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10de0f3d0&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10de0f3d0&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    &lt;&lt; self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for &lt;&lt;: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_23"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_23_1" aria-expanded="false" aria-controls="job_list___sub_collapse_23_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_23_1"><button class="btn btn-outline-success"><span class="job_id">23 : Job ID 02c88e84eaff4fdea64031d1e6400e18</span></button></div></a><div aria-labelledby="job_list___sub_heading_23_1" data-parent="#job_list___sub_accordion_23" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_23_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_LShift, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    &lt;&lt; " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10bd333d0&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10bd333d0&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    + self.secret_name
                    &lt;&lt; " was not found"
                )
E               TypeError: unsupported operand type(s) for &lt;&lt;: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_24"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_24_1" aria-expanded="false" aria-controls="job_list___sub_collapse_24_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_24_1"><button class="btn btn-outline-success"><span class="job_id">24 : Job ID ba912cc950884ed58fa88925ca4277dc</span></button></div></a><div aria-labelledby="job_list___sub_heading_24_1" data-parent="#job_list___sub_accordion_24" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_24_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_BitOr, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    | self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e8473d0&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e8473d0&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    | self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for |: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_25"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_25_1" aria-expanded="false" aria-controls="job_list___sub_collapse_25_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_25_1"><button class="btn btn-outline-success"><span class="job_id">25 : Job ID e6c12c4ef661470a89360a02cd2da6a2</span></button></div></a><div aria-labelledby="job_list___sub_heading_25_1" data-parent="#job_list___sub_accordion_25" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_25_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_BitOr, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    | " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e40f700&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10e40f700&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    + self.secret_name
                    | " was not found"
                )
E               TypeError: unsupported operand type(s) for |: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_26"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_26_1" aria-expanded="false" aria-controls="job_list___sub_collapse_26_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_26_1"><button class="btn btn-outline-success"><span class="job_id">26 : Job ID 4dd3079fffcb42db9285d6bcb3daa4e8</span></button></div></a><div aria-labelledby="job_list___sub_heading_26_1" data-parent="#job_list___sub_accordion_26" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_26_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_BitAnd, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    &amp; self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10eaaf3d0&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10eaaf3d0&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    &amp; self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for &amp;: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_27"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_27_1" aria-expanded="false" aria-controls="job_list___sub_collapse_27_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_27_1"><button class="btn btn-outline-success"><span class="job_id">27 : Job ID 991671593faf4b86b9b93c6a88ece7c8</span></button></div></a><div aria-labelledby="job_list___sub_heading_27_1" data-parent="#job_list___sub_accordion_27" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_27_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_BitAnd, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    &amp; " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10dd07700&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10dd07700&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    + self.secret_name
                    &amp; " was not found"
                )
E               TypeError: unsupported operand type(s) for &amp;: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_28"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_28_1" aria-expanded="false" aria-controls="job_list___sub_collapse_28_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_28_1"><button class="btn btn-outline-success"><span class="job_id">28 : Job ID 622fbc6df84349c2a4dd1e5906ef0b50</span></button></div></a><div aria-labelledby="job_list___sub_heading_28_1" data-parent="#job_list___sub_accordion_28" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_28_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=54" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (54, 20), end pos: (54, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_BitXor, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -51,7 +51,7 @@
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
-                    + self.secret_name
+                    ^ self.secret_name
                     + " was not found"
                 )
                 raise e</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c87b3d0&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c87b3d0&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    ^ self.secret_name
                    + " was not found"
                )
E               TypeError: unsupported operand type(s) for ^: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_29"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_29_1" aria-expanded="false" aria-controls="job_list___sub_collapse_29_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_29_1"><button class="btn btn-outline-success"><span class="job_id">29 : Job ID 13550b2af51b4fe2b7e9f897e255785b</span></button></div></a><div aria-labelledby="job_list___sub_heading_29_1" data-parent="#job_list___sub_accordion_29" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_29_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=55" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (55, 20), end pos: (55, 21)</button></a></pre><pre>operator: core/ReplaceBinaryOperator_Add_BitXor, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -52,7 +52,7 @@
                 log.warning(
                     "The requested secret "
                     + self.secret_name
-                    + " was not found"
+                    ^ " was not found"
                 )
                 raise e
             elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10de07700&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10de07700&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
&gt;                   "The requested secret "
                    + self.secret_name
                    ^ " was not found"
                )
E               TypeError: unsupported operand type(s) for ^: 'str' and 'str'

src/aws_secrets.py:53: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.71s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_30"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_30_1" aria-expanded="false" aria-controls="job_list___sub_collapse_30_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_30_1"><button class="btn btn-outline-success"><span class="job_id">30 : Job ID b7f82bee70284e1794d4d66f55d324ad</span></button></div></a><div aria-labelledby="job_list___sub_heading_30_1" data-parent="#job_list___sub_accordion_30" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_30_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=40" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (40, 45), end pos: (40, 48)</button></a></pre><pre>operator: core/ReplaceUnaryOperator_Delete_Not, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -37,7 +37,7 @@
         Returns:
             (str): Specific secret value from AWS Secrets Manager
         """
-        session = boto3.session.Session() if not kwargs else kwargs["session"]
+        session = boto3.session.Session() if  kwargs else kwargs["session"]
         secrets_client = session.client(
             service_name="secretsmanager", region_name=self.region_name
         ) if not kwargs else kwargs["client"]</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py FFFF....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
________________ TestAWSSecretManager.test_get_secret_b64decode ________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_b64decode&gt;

    @mock_secretsmanager
    def test_get_secret_b64decode(self) -&gt; None:
        # base64 encode secret string
        secret = "totally-secret"
        secret_bytes = secret.encode('ascii')
        base64_bytes = base64.b64encode(secret_bytes)
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretBinary=base64_bytes)
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x111cca0e0&gt;, kwargs = {}

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if  kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
___________ TestAWSSecretManager.test_get_secret_decryption_failure ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_decryption_failure&gt;

    @mock_secretsmanager
    def test_get_secret_decryption_failure(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret",
                           SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       secret = aws_object.get_secret()

tests/test_aws_secrets.py:42: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x11036b3a0&gt;, kwargs = {}

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if  kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
_________________ TestAWSSecretManager.test_get_secret_success _________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_success&gt;

    @mock_secretsmanager
    def test_get_secret_success(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x110937760&gt;, kwargs = {}

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if  kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if  kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_b64decode
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_decryption_failure
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_success
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 4 failed, 9 passed in 0.55s ==========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_31"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_31_1" aria-expanded="false" aria-controls="job_list___sub_collapse_31_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_31_1"><button class="btn btn-outline-success"><span class="job_id">31 : Job ID ef5b5bf86b3c4a99a654617fa48e5c92</span></button></div></a><div aria-labelledby="job_list___sub_heading_31_1" data-parent="#job_list___sub_accordion_31" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_31_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=43" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (43, 13), end pos: (43, 16)</button></a></pre><pre>operator: core/ReplaceUnaryOperator_Delete_Not, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -40,7 +40,7 @@
         session = boto3.session.Session() if not kwargs else kwargs["session"]
         secrets_client = session.client(
             service_name="secretsmanager", region_name=self.region_name
-        ) if not kwargs else kwargs["client"]
+        ) if  kwargs else kwargs["client"]
 
         try:
             get_secret_value_response = secrets_client.get_secret_value(</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py FFFFFFFF                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
________________ TestAWSSecretManager.test_get_secret_b64decode ________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_b64decode&gt;

    @mock_secretsmanager
    def test_get_secret_b64decode(self) -&gt; None:
        # base64 encode secret string
        secret = "totally-secret"
        secret_bytes = secret.encode('ascii')
        base64_bytes = base64.b64encode(secret_bytes)
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretBinary=base64_bytes)
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10cfc20b0&gt;, kwargs = {}
session = Session(region_name=None)

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if  kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
___________ TestAWSSecretManager.test_get_secret_decryption_failure ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_decryption_failure&gt;

    @mock_secretsmanager
    def test_get_secret_decryption_failure(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret",
                           SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       secret = aws_object.get_secret()

tests/test_aws_secrets.py:42: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10b6373d0&gt;, kwargs = {}
session = Session(region_name=None)

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if  kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
_________________ TestAWSSecretManager.test_get_secret_success _________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_success&gt;

    @mock_secretsmanager
    def test_get_secret_success(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10bb30d00&gt;, kwargs = {}
session = Session(region_name=None)

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if  kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if  kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
______ TestAWSSecretManager.test_get_secrets_decryption_failure_exception ______

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_decryption_failure_exception&gt;

    def test_get_secrets_decryption_failure_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'DecryptionFailure',
                    'Message': "The requested secret can't be decrypted using the "
                               "provided KMS key",
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:109: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if  kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
____ TestAWSSecretManager.test_get_secrets_internal_service_error_exception ____

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_internal_service_error_exception&gt;

    def test_get_secrets_internal_service_error_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InternalServiceError',
                    'Message': "An error occurred on service side",
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:126: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if  kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
______ TestAWSSecretManager.test_get_secrets_invalid_parameter_exception _______

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_invalid_parameter_exception&gt;

    def test_get_secrets_invalid_parameter_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InvalidParameterException',
                    'Message': 'The provided param/s are incorrect.',
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:91: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if  kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
_______ TestAWSSecretManager.test_get_secrets_invalid_request_exception ________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_invalid_request_exception&gt;

    def test_get_secrets_invalid_request_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InvalidRequestException',
                    'Message': 'The provided param/s are incorrect.',
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:73: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if  kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_b64decode
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_decryption_failure
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_success
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_decryption_failure_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_internal_service_error_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_invalid_parameter_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_invalid_request_exception
========================= 8 failed, 5 passed in 0.56s ==========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_32"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_32_1" aria-expanded="false" aria-controls="job_list___sub_collapse_32_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_32_1"><button class="btn btn-outline-success"><span class="job_id">32 : Job ID 4682ce0ac11b48e49e3091a5635f432e</span></button></div></a><div aria-labelledby="job_list___sub_heading_32_1" data-parent="#job_list___sub_accordion_32" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_32_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=40" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (40, 45), end pos: (40, 55)</button></a></pre><pre>operator: core/AddNot, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -37,7 +37,7 @@
         Returns:
             (str): Specific secret value from AWS Secrets Manager
         """
-        session = boto3.session.Session() if not kwargs else kwargs["session"]
+        session = boto3.session.Session() if not not kwargs else kwargs["session"]
         secrets_client = session.client(
             service_name="secretsmanager", region_name=self.region_name
         ) if not kwargs else kwargs["client"]</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py FFFF....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
________________ TestAWSSecretManager.test_get_secret_b64decode ________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_b64decode&gt;

    @mock_secretsmanager
    def test_get_secret_b64decode(self) -&gt; None:
        # base64 encode secret string
        secret = "totally-secret"
        secret_bytes = secret.encode('ascii')
        base64_bytes = base64.b64encode(secret_bytes)
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretBinary=base64_bytes)
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10f89e110&gt;, kwargs = {}

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if not not kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
___________ TestAWSSecretManager.test_get_secret_decryption_failure ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_decryption_failure&gt;

    @mock_secretsmanager
    def test_get_secret_decryption_failure(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret",
                           SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       secret = aws_object.get_secret()

tests/test_aws_secrets.py:42: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10df1b3d0&gt;, kwargs = {}

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if not not kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
_________________ TestAWSSecretManager.test_get_secret_success _________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_success&gt;

    @mock_secretsmanager
    def test_get_secret_success(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10e37f790&gt;, kwargs = {}

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if not not kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
&gt;       session = boto3.session.Session() if not not kwargs else kwargs["session"]
E       KeyError: 'session'

src/aws_secrets.py:40: KeyError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_b64decode
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_decryption_failure
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_success
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 4 failed, 9 passed in 0.55s ==========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_33"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_33_1" aria-expanded="false" aria-controls="job_list___sub_collapse_33_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_33_1"><button class="btn btn-outline-success"><span class="job_id">33 : Job ID a0e9e96882484399a59df025e1a07ae5</span></button></div></a><div aria-labelledby="job_list___sub_heading_33_1" data-parent="#job_list___sub_accordion_33" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_33_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=43" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (43, 13), end pos: (43, 23)</button></a></pre><pre>operator: core/AddNot, occurrence: 1</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -40,7 +40,7 @@
         session = boto3.session.Session() if not kwargs else kwargs["session"]
         secrets_client = session.client(
             service_name="secretsmanager", region_name=self.region_name
-        ) if not kwargs else kwargs["client"]
+        ) if not not kwargs else kwargs["client"]
 
         try:
             get_secret_value_response = secrets_client.get_secret_value(</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py FFFFFFFF                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
________________ TestAWSSecretManager.test_get_secret_b64decode ________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_b64decode&gt;

    @mock_secretsmanager
    def test_get_secret_b64decode(self) -&gt; None:
        # base64 encode secret string
        secret = "totally-secret"
        secret_bytes = secret.encode('ascii')
        base64_bytes = base64.b64encode(secret_bytes)
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretBinary=base64_bytes)
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10dc55ff0&gt;, kwargs = {}
session = Session(region_name=None)

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if not not kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
___________ TestAWSSecretManager.test_get_secret_decryption_failure ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_decryption_failure&gt;

    @mock_secretsmanager
    def test_get_secret_decryption_failure(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret",
                           SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       secret = aws_object.get_secret()

tests/test_aws_secrets.py:42: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10c61b310&gt;, kwargs = {}
session = Session(region_name=None)

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if not not kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
_________________ TestAWSSecretManager.test_get_secret_success _________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_success&gt;

    @mock_secretsmanager
    def test_get_secret_success(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10c4e4c40&gt;, kwargs = {}
session = Session(region_name=None)

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if not not kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
&gt;       ) if not not kwargs else kwargs["client"]
E       KeyError: 'client'

src/aws_secrets.py:43: KeyError
______ TestAWSSecretManager.test_get_secrets_decryption_failure_exception ______

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_decryption_failure_exception&gt;

    def test_get_secrets_decryption_failure_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'DecryptionFailure',
                    'Message': "The requested secret can't be decrypted using the "
                               "provided KMS key",
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:109: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
____ TestAWSSecretManager.test_get_secrets_internal_service_error_exception ____

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_internal_service_error_exception&gt;

    def test_get_secrets_internal_service_error_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InternalServiceError',
                    'Message': "An error occurred on service side",
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:126: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
______ TestAWSSecretManager.test_get_secrets_invalid_parameter_exception _______

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_invalid_parameter_exception&gt;

    def test_get_secrets_invalid_parameter_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InvalidParameterException',
                    'Message': 'The provided param/s are incorrect.',
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:91: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
_______ TestAWSSecretManager.test_get_secrets_invalid_request_exception ________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_invalid_request_exception&gt;

    def test_get_secrets_invalid_request_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InvalidRequestException',
                    'Message': 'The provided param/s are incorrect.',
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:73: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
&gt;           if "SecretString" in get_secret_value_response:
E           TypeError: argument of type 'Mock' is not iterable

src/aws_secrets.py:76: TypeError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_b64decode
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_decryption_failure
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_success
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_decryption_failure_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_internal_service_error_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_invalid_parameter_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_invalid_request_exception
========================= 8 failed, 5 passed in 0.56s ==========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_34"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_34_1" aria-expanded="false" aria-controls="job_list___sub_collapse_34_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_34_1"><button class="btn btn-outline-success"><span class="job_id">34 : Job ID b16b7d0d846949dea3f0415c8832aa12</span></button></div></a><div aria-labelledby="job_list___sub_heading_34_1" data-parent="#job_list___sub_accordion_34" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_34_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=51" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (51, 15), end pos: (51, 61)</button></a></pre><pre>operator: core/AddNot, occurrence: 2</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -48,7 +48,7 @@
             )
         except ClientError as e:
             error_code = e.response["Error"]["Code"]
-            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
+            if not error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(
                     "The requested secret "
                     + self.secret_name</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...F....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
&gt;       with self.assertRaises(ClientError):
E       AssertionError: ClientError not raised

tests/test_aws_secrets.py:29: AssertionError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
========================= 1 failed, 12 passed in 0.70s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_35"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_35_1" aria-expanded="false" aria-controls="job_list___sub_collapse_35_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_35_1"><button class="btn btn-outline-success"><span class="job_id">35 : Job ID cc6bb60100c34a31bf89770809a5114e</span></button></div></a><div aria-labelledby="job_list___sub_heading_35_1" data-parent="#job_list___sub_accordion_35" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_35_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=76" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (76, 15), end pos: (76, 58)</button></a></pre><pre>operator: core/AddNot, occurrence: 3</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -73,7 +73,7 @@
                 raise e
         else:
             secret_value: str = "No secret value was specified."
-            if "SecretString" in get_secret_value_response:
+            if not "SecretString" in get_secret_value_response:
                 secret_value = get_secret_value_response["SecretString"]
 
             else:</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py FFF.....                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
________________ TestAWSSecretManager.test_get_secret_b64decode ________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_b64decode&gt;

    @mock_secretsmanager
    def test_get_secret_b64decode(self) -&gt; None:
        # base64 encode secret string
        secret = "totally-secret"
        secret_bytes = secret.encode('ascii')
        base64_bytes = base64.b64encode(secret_bytes)
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretBinary=base64_bytes)
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10ef9a0e0&gt;, kwargs = {}
session = Session(region_name=None)
secrets_client = &lt;botocore.client.SecretsManager object at 0x10db693f0&gt;
get_secret_value_response = {'ARN': 'arn:aws:secretsmanager:eu-west-1:123456789012:secret:my-secret-qRvGxu', 'CreatedDate': datetime.datetime(2022...secret', 'ResponseMetadata': {'HTTPHeaders': {'server': 'amazon.com'}, 'HTTPStatusCode': 200, 'RetryAttempts': 0}, ...}
secret_value = 'No secret value was specified.'

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
            if not "SecretString" in get_secret_value_response:
&gt;               secret_value = get_secret_value_response["SecretString"]
E               KeyError: 'SecretString'

src/aws_secrets.py:77: KeyError
___________ TestAWSSecretManager.test_get_secret_decryption_failure ____________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_decryption_failure&gt;

    @mock_secretsmanager
    def test_get_secret_decryption_failure(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret",
                           SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       secret = aws_object.get_secret()

tests/test_aws_secrets.py:42: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10db2fbe0&gt;, kwargs = {}
session = Session(region_name=None)
secrets_client = &lt;botocore.client.SecretsManager object at 0x10f216020&gt;
get_secret_value_response = {'ARN': 'arn:aws:secretsmanager:eu-west-1:123456789012:secret:my-secret-ohFQhg', 'CreatedDate': datetime.datetime(2022...secret', 'ResponseMetadata': {'HTTPHeaders': {'server': 'amazon.com'}, 'HTTPStatusCode': 200, 'RetryAttempts': 0}, ...}
secret_value = 'No secret value was specified.'

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
            if not "SecretString" in get_secret_value_response:
                secret_value = get_secret_value_response["SecretString"]
    
            else:
                secret_value = base64.b64decode(
&gt;                   get_secret_value_response["SecretBinary"]
                ).decode("ascii")
E               KeyError: 'SecretBinary'

src/aws_secrets.py:81: KeyError
_________________ TestAWSSecretManager.test_get_secret_success _________________

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_success&gt;

    @mock_secretsmanager
    def test_get_secret_success(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="my-secret", SecretString="totally-secret")
        # call custom class
        aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;       aws_object.get_secret()

tests/test_aws_secrets.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;src.aws_secrets.AWSSecretManager object at 0x10faac7f0&gt;, kwargs = {}
session = Session(region_name=None)
secrets_client = &lt;botocore.client.SecretsManager object at 0x10f1faa10&gt;
get_secret_value_response = {'ARN': 'arn:aws:secretsmanager:eu-west-1:123456789012:secret:my-secret-JAmUdP', 'CreatedDate': datetime.datetime(2022...secret', 'ResponseMetadata': {'HTTPHeaders': {'server': 'amazon.com'}, 'HTTPStatusCode': 200, 'RetryAttempts': 0}, ...}
secret_value = 'No secret value was specified.'

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
        except ClientError as e:
            error_code = e.response["Error"]["Code"]
            if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret "
                    + self.secret_name
                    + " was not found"
                )
                raise e
            elif error_code.__eq__("InvalidRequestException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request was invalid due to:", e.response["Error"])
                raise e
            elif error_code.__eq__("InvalidParameterException"):  # .__eq__() added after cosmic-ray run
                log.warning("The request had invalid params:", e.response["Error"])
                raise e
            elif error_code.__eq__("DecryptionFailure"):  # .__eq__() added after cosmic-ray run
                log.warning(
                    "The requested secret can't be decrypted using the "
                    "provided KMS key:",
                    e.response["Error"],
                )
                raise e
            elif error_code.__eq__("InternalServiceError"):  # .__eq__() added after cosmic-ray run
                log.warning("An error occurred on service side:", e.response["Error"])
                raise e
        else:
            secret_value: str = "No secret value was specified."
            if not "SecretString" in get_secret_value_response:
                secret_value = get_secret_value_response["SecretString"]
    
            else:
                secret_value = base64.b64decode(
&gt;                   get_secret_value_response["SecretBinary"]
                ).decode("ascii")
E               KeyError: 'SecretBinary'

src/aws_secrets.py:81: KeyError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_b64decode
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_decryption_failure
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_success
========================= 3 failed, 10 passed in 0.69s =========================
</pre></div></div></div></div></div><div class="mb-1" id="job_list___sub_accordion_36"><div class="card"><a data-toggle="collapse" data-target="#job_list___sub_collapse_36_1" aria-expanded="false" aria-controls="job_list___sub_collapse_36_1" href="#" class="job_list___sub_multi_heading"><div role="alert" class="card-header alert-success" id="job_list___sub_heading_36_1"><button class="btn btn-outline-success"><span class="job_id">36 : Job ID c4845897e16e40989517c83e35f36b0a</span></button></div></a><div aria-labelledby="job_list___sub_heading_36_1" data-parent="#job_list___sub_accordion_36" class="collapse job_list___sub_multi_collapse" id="job_list___sub_collapse_36_1"><div class="card-body"><div class="work-item"><div class="alert alert-success test-outcome" role="alert"><p>worker outcome: normal</p><p>test outcome: killed</p></div></div><pre class="location"><a href="pycharm://open?file=src/aws_secrets.py&amp;line=49" class="text-secondary"><button class="btn btn-outline-dark">src/aws_secrets.py, start pos: (49, 15), end pos: (49, 26)</button></a></pre><pre>operator: core/ExceptionReplacer, occurrence: 0</pre><div class="alert alert-secondary"><pre class="diff">--- mutation diff ---
--- asrc/aws_secrets.py
+++ bsrc/aws_secrets.py
@@ -46,7 +46,7 @@
             get_secret_value_response = secrets_client.get_secret_value(
                 SecretId=self.secret_name, **kwargs
             )
-        except ClientError as e:
+        except CosmicRayTestingException as e:
             error_code = e.response["Error"]["Code"]
             if error_code.__eq__("ResourceNotFoundException"):  # .__eq__() added after cosmic-ray run
                 log.warning(</pre></div><div class="alert alert-secondary"><pre class="diff">============================= test session starts ==============================
platform darwin -- Python 3.10.7, pytest-7.2.0, pluggy-1.0.0
rootdir: /Users/hriczmate/vscode-projects/testing-prep
collected 13 items

tests/test_aws_secrets.py ...FFFFF                                       [ 61%]
tests/test_counter_class.py .....                                        [100%]

=================================== FAILURES ===================================
____________ TestAWSSecretManager.test_get_secret_wrong_secret_name ____________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c1d73a0&gt;, args = ()
kwargs = {'SecretId': 'my-secret'}

    def _api_call(self, *args, **kwargs):
        # We're accepting *args so that we can give a more helpful
        # error message than TypeError: _api_call takes exactly
        # 1 argument.
        if args:
            raise TypeError(
                f"{py_operation_name}() only accepts keyword arguments."
            )
        # The "self" in this scope is referring to the BaseClient.
&gt;       return self._make_api_call(operation_name, kwargs)

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:515: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;botocore.client.SecretsManager object at 0x10c1d73a0&gt;
operation_name = 'GetSecretValue', api_params = {'SecretId': 'my-secret'}

    def _make_api_call(self, operation_name, api_params):
        operation_model = self._service_model.operation_model(operation_name)
        service_name = self._service_model.service_name
        history_recorder.record(
            'API_CALL',
            {
                'service': service_name,
                'operation': operation_name,
                'params': api_params,
            },
        )
        if operation_model.deprecated:
            logger.debug(
                'Warning: %s.%s() is deprecated', service_name, operation_name
            )
        request_context = {
            'client_region': self.meta.region_name,
            'client_config': self.meta.config,
            'has_streaming_input': operation_model.has_streaming_input,
            'auth_type': operation_model.auth_type,
        }
        endpoint_url, additional_headers = self._resolve_endpoint_ruleset(
            operation_model, api_params, request_context
        )
        request_dict = self._convert_to_request_dict(
            api_params=api_params,
            operation_model=operation_model,
            endpoint_url=endpoint_url,
            context=request_context,
            headers=additional_headers,
        )
        resolve_checksum_context(request_dict, operation_model, api_params)
    
        service_id = self._service_model.service_id.hyphenize()
        handler, event_response = self.meta.events.emit_until_response(
            'before-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            model=operation_model,
            params=request_dict,
            request_signer=self._request_signer,
            context=request_context,
        )
    
        if event_response is not None:
            http, parsed_response = event_response
        else:
            apply_request_checksum(request_dict)
            http, parsed_response = self._make_request(
                operation_model, request_dict, request_context
            )
    
        self.meta.events.emit(
            'after-call.{service_id}.{operation_name}'.format(
                service_id=service_id, operation_name=operation_name
            ),
            http_response=http,
            parsed=parsed_response,
            model=operation_model,
            context=request_context,
        )
    
        if http.status_code &gt;= 300:
            error_code = parsed_response.get("Error", {}).get("Code")
            error_class = self.exceptions.from_code(error_code)
&gt;           raise error_class(parsed_response, operation_name)
E           botocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the GetSecretValue operation: Secrets Manager can't find the specified secret.

../../Library/Caches/pypoetry/virtualenvs/dev-helper-tools-project-ZICEvpmH-py3.10/lib/python3.10/site-packages/botocore/client.py:934: ResourceNotFoundException

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secret_wrong_secret_name&gt;

    @mock_secretsmanager
    def test_get_secret_wrong_secret_name(self) -&gt; None:
        # set up mock boto client resource
        conn = boto3.client("secretsmanager", region_name="eu-west-1")
        conn.create_secret(Name="wrong-secret", SecretString="totally-secret")
        with self.assertRaises(ClientError):
            # call custom class
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret()

tests/test_aws_secrets.py:32: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
&gt;       except CosmicRayTestingException as e:
E       NameError: name 'CosmicRayTestingException' is not defined

src/aws_secrets.py:49: NameError
______ TestAWSSecretManager.test_get_secrets_decryption_failure_exception ______

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4528863936'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4528863984'&gt;, 'session': &lt;Mock id='4528864224'&gt;}

    def __call__(self, /, *args, **kwargs):
        # can't use self in-case a function / method we are mocking uses self
        # in the signature
        self._mock_check_sig(*args, **kwargs)
        self._increment_mock_call(*args, **kwargs)
&gt;       return self._mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1104: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4528863936'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4528863984'&gt;, 'session': &lt;Mock id='4528864224'&gt;}

    def _mock_call(self, /, *args, **kwargs):
&gt;       return self._execute_mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1108: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4528863936'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4528863984'&gt;, 'session': &lt;Mock id='4528864224'&gt;}
effect = ClientError("An error occurred (DecryptionFailure) when calling the GetSecret operation: The requested secret can't be decrypted using the provided KMS key")

    def _execute_mock_call(self, /, *args, **kwargs):
        # separate from _increment_mock_call so that awaited functions are
        # executed separately from their call, also AsyncMock overrides this method
    
        effect = self.side_effect
        if effect is not None:
            if _is_exception(effect):
&gt;               raise effect
E               botocore.exceptions.ClientError: An error occurred (DecryptionFailure) when calling the GetSecret operation: The requested secret can't be decrypted using the provided KMS key

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1163: ClientError

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_decryption_failure_exception&gt;

    def test_get_secrets_decryption_failure_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'DecryptionFailure',
                    'Message': "The requested secret can't be decrypted using the "
                               "provided KMS key",
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:109: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
&gt;       except CosmicRayTestingException as e:
E       NameError: name 'CosmicRayTestingException' is not defined

src/aws_secrets.py:49: NameError
____ TestAWSSecretManager.test_get_secrets_internal_service_error_exception ____

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4488978464'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4488977648'&gt;, 'session': &lt;Mock id='4488972224'&gt;}

    def __call__(self, /, *args, **kwargs):
        # can't use self in-case a function / method we are mocking uses self
        # in the signature
        self._mock_check_sig(*args, **kwargs)
        self._increment_mock_call(*args, **kwargs)
&gt;       return self._mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1104: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4488978464'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4488977648'&gt;, 'session': &lt;Mock id='4488972224'&gt;}

    def _mock_call(self, /, *args, **kwargs):
&gt;       return self._execute_mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1108: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4488978464'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4488977648'&gt;, 'session': &lt;Mock id='4488972224'&gt;}
effect = ClientError('An error occurred (InternalServiceError) when calling the GetSecret operation: An error occurred on service side')

    def _execute_mock_call(self, /, *args, **kwargs):
        # separate from _increment_mock_call so that awaited functions are
        # executed separately from their call, also AsyncMock overrides this method
    
        effect = self.side_effect
        if effect is not None:
            if _is_exception(effect):
&gt;               raise effect
E               botocore.exceptions.ClientError: An error occurred (InternalServiceError) when calling the GetSecret operation: An error occurred on service side

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1163: ClientError

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_internal_service_error_exception&gt;

    def test_get_secrets_internal_service_error_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InternalServiceError',
                    'Message': "An error occurred on service side",
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:126: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
&gt;       except CosmicRayTestingException as e:
E       NameError: name 'CosmicRayTestingException' is not defined

src/aws_secrets.py:49: NameError
______ TestAWSSecretManager.test_get_secrets_invalid_parameter_exception _______

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4498181376'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4498184352'&gt;, 'session': &lt;Mock id='4498179792'&gt;}

    def __call__(self, /, *args, **kwargs):
        # can't use self in-case a function / method we are mocking uses self
        # in the signature
        self._mock_check_sig(*args, **kwargs)
        self._increment_mock_call(*args, **kwargs)
&gt;       return self._mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1104: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4498181376'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4498184352'&gt;, 'session': &lt;Mock id='4498179792'&gt;}

    def _mock_call(self, /, *args, **kwargs):
&gt;       return self._execute_mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1108: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4498181376'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4498184352'&gt;, 'session': &lt;Mock id='4498179792'&gt;}
effect = ClientError('An error occurred (InvalidParameterException) when calling the GetSecret operation: The provided param/s are incorrect.')

    def _execute_mock_call(self, /, *args, **kwargs):
        # separate from _increment_mock_call so that awaited functions are
        # executed separately from their call, also AsyncMock overrides this method
    
        effect = self.side_effect
        if effect is not None:
            if _is_exception(effect):
&gt;               raise effect
E               botocore.exceptions.ClientError: An error occurred (InvalidParameterException) when calling the GetSecret operation: The provided param/s are incorrect.

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1163: ClientError

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_invalid_parameter_exception&gt;

    def test_get_secrets_invalid_parameter_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InvalidParameterException',
                    'Message': 'The provided param/s are incorrect.',
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:91: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
&gt;       except CosmicRayTestingException as e:
E       NameError: name 'CosmicRayTestingException' is not defined

src/aws_secrets.py:49: NameError
_______ TestAWSSecretManager.test_get_secrets_invalid_request_exception ________

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
&gt;           get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )

src/aws_secrets.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4517393408'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4517393504'&gt;, 'session': &lt;Mock id='4517394704'&gt;}

    def __call__(self, /, *args, **kwargs):
        # can't use self in-case a function / method we are mocking uses self
        # in the signature
        self._mock_check_sig(*args, **kwargs)
        self._increment_mock_call(*args, **kwargs)
&gt;       return self._mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1104: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4517393408'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4517393504'&gt;, 'session': &lt;Mock id='4517394704'&gt;}

    def _mock_call(self, /, *args, **kwargs):
&gt;       return self._execute_mock_call(*args, **kwargs)

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1108: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;Mock name='mock.client.get_secret_value' id='4517393408'&gt;, args = ()
kwargs = {'SecretId': 'my-secret', 'client': &lt;Mock name='mock.client' id='4517393504'&gt;, 'session': &lt;Mock id='4517394704'&gt;}
effect = ClientError('An error occurred (InvalidRequestException) when calling the GetSecret operation: The provided param/s are incorrect.')

    def _execute_mock_call(self, /, *args, **kwargs):
        # separate from _increment_mock_call so that awaited functions are
        # executed separately from their call, also AsyncMock overrides this method
    
        effect = self.side_effect
        if effect is not None:
            if _is_exception(effect):
&gt;               raise effect
E               botocore.exceptions.ClientError: An error occurred (InvalidRequestException) when calling the GetSecret operation: The provided param/s are incorrect.

/usr/local/Cellar/python@3.10/3.10.7/Frameworks/Python.framework/Versions/3.10/lib/python3.10/unittest/mock.py:1163: ClientError

During handling of the above exception, another exception occurred:

self = &lt;tests.test_aws_secrets.TestAWSSecretManager testMethod=test_get_secrets_invalid_request_exception&gt;

    def test_get_secrets_invalid_request_exception(self):
        session = mock.Mock()
        client = mock.Mock()
        session.client = client
        client.get_secret_value.side_effect = ClientError(
            {
                'Error': {
                    'Code': 'InvalidRequestException',
                    'Message': 'The provided param/s are incorrect.',
                }
            },
            'GetSecret',
        )
        with self.assertRaises(ClientError):
            aws_object = AWSSecretManager("my-secret", "eu-west-1")
&gt;           aws_object.get_secret(session=session, client=client)

tests/test_aws_secrets.py:73: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

    def get_secret(self, **kwargs) -&gt; str:
        """
        Obtain a specific secret value from the AWS Secrets Manager.
    
        Uses the self.secret_name class property as an argument.
        given the secret name
    
        Returns:
            (str): Specific secret value from AWS Secrets Manager
        """
        session = boto3.session.Session() if not kwargs else kwargs["session"]
        secrets_client = session.client(
            service_name="secretsmanager", region_name=self.region_name
        ) if not kwargs else kwargs["client"]
    
        try:
            get_secret_value_response = secrets_client.get_secret_value(
                SecretId=self.secret_name, **kwargs
            )
&gt;       except CosmicRayTestingException as e:
E       NameError: name 'CosmicRayTestingException' is not defined

src/aws_secrets.py:49: NameError
=========================== short test summary info ============================
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secret_wrong_secret_name
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_decryption_failure_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_internal_service_error_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_invalid_parameter_exception
FAILED tests/test_aws_secrets.py::TestAWSSecretManager::test_get_secrets_invalid_request_exception
========================= 5 failed, 8 passed in 0.93s ==========================
</pre></div></div></div></div></div></div></div></div></div></div><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><script type="text/javascript">$('div.job_list___sub_multi_collapse').on('shown.bs.collapse',  function () {    correct_behavior_functional_buttons();  });$('div.job_list___sub_multi_collapse').on('hidden.bs.collapse',  function () {    correct_behavior_functional_buttons();  });function correct_behavior_functional_buttons() {    var expand = false;    var collapse = false;    $('a.job_list___sub_multi_heading').each(function(index) {      if ($(this).attr('aria-expanded') == 'false') {        expand = true;        return false;      };    });    $('a.job_list___sub_multi_heading').each(function(index) {      if ($(this).attr('aria-expanded') == 'true') {        collapse = true;        return false;      };    });    if (expand) {      $('div#job_item_expand_all').css('display', 'inline-block');    } else {      $('div#job_item_expand_all').css('display', 'none');    };    if (collapse) {      $('div#job_item_collapse_all').css('display', 'inline-block');    } else {      $('div#job_item_collapse_all').css('display', 'none');    };  };correct_behavior_functional_buttons();</script></body></html>
